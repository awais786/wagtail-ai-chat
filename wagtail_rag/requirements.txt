# Core dependencies for Wagtail RAG (required)
# Updated to fix critical security vulnerabilities (2026-01-30)
django>=3.2
wagtail>=4.0
langchain>=0.1.0,<0.2.0
langchain-community>=0.3.27  # Security: Fix XXE, SSRF, and pickle deserialization vulnerabilities
langchain-text-splitters>=0.3.9  # Security: Fix XXE vulnerability via unsafe XSLT parsing
beautifulsoup4>=4.12.0
tiktoken>=0.5.0

# Vector Store Backends (install at least one)
# For FAISS (default, recommended for local development):
faiss-cpu>=1.7.4
# For ChromaDB (alternative):
# chromadb>=0.4.0

# ============================================================================
# Optional: Embedding Providers (install only what you need)
# ============================================================================

# HuggingFace embeddings (local, free)
# Install with: pip install wagtail-rag[huggingface]
# Or manually: pip install langchain-huggingface sentence-transformers
langchain-huggingface>=0.0.1
sentence-transformers>=2.2.0

# OpenAI embeddings (hosted, requires API key)
# Install with: pip install wagtail-rag[openai]
# Or manually: pip install langchain-openai
# langchain-openai>=0.0.1

# ============================================================================
# Optional: LLM Providers (install only what you need)
# ============================================================================

# Ollama (local LLM)
# Install with: pip install wagtail-rag[ollama]
# Or manually: pip install ollama
# ollama>=0.1.0

# Anthropic Claude (hosted, requires API key)
# Install with: pip install wagtail-rag[anthropic]
# Or manually: pip install langchain-anthropic
# langchain-anthropic>=0.0.1
